(function(_ds){var window=this;'use strict';var tT=function(a){var b=a.rg,c='<div class="dropdown-tabbed-menu"><ul class="dropdown-tabbed-menu-list">';a=a.ul;for(var d=a.length,e=0;e<d;e++){var g=a[e];c+='<li class="dropdown-tabbed-menu-list-item"><a href="#" column-id="'+_ds.Z(g.rh)+'" tabindex="0" track-type="navMenu" track-metadata-eventdetail="'+_ds.Z(g.text)+'" track-name="'+_ds.Z(b)+'" track-metadata-href="#'+_ds.Z(g.rh)+'" track-metadata-position="nav - secondary" track-metadata-module_headline="'+_ds.Z(b)+'">'+_ds.Y(g.text)+
"</a></li>"}return(0,_ds.X)(c+"</ul></div>")},uT=function(a){var b=a.rg,c=a.href;a=a.text;return(0,_ds.X)('<div class="dropdown-tabbed-menu-button"><a href="'+_ds.Z(_ds.Dp(c))+'" track-type="navMenu" track-name="'+_ds.Z(b)+'" track-metadata-eventdetail="'+_ds.Z(a)+'" track-metadata-href="'+_ds.Z(c)+'" track-metadata-position="nav - secondary" track-metadata-module_headline="'+_ds.Z(b)+'">'+_ds.Y(a)+"</a></div>")},wT=function(){var a=_ds.T.call(this)||this;a.G=null;a.H=!1;a.j=new _ds.Aj;a.m=new _ds.Aj;
a.h=null;a.N=null;a.C=null;a.D=null;a.L=0;a.o=[];a.F=0;a.K=new _ds.xj(function(){vT(a)},20);return a},DT=function(a){a.j.listen(document.body,"devsite-sticky-resize",function(){return a.K.ra()});a.j.listen(a,"click",function(e){if(!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var g=e.target,k=xT(a,g);if(k)if(k===a.h)yT(a,e);else if(zT(a),g.classList.contains("devsite-tabs-dropdown-toggle"))e.preventDefault(),e.stopPropagation(),k.hasAttribute("dropdown--open")?AT(a):BT(a,k);else{var m;"A"===g.tagName?
m=g:m=_ds.oh(g,"A");var n=k.querySelector(".devsite-tabs-dropdown");if(n&&n.contains(g))m&&m.hasAttribute("href")||(e.preventDefault(),e.stopPropagation());else{if(e=a.G||a.querySelector("[active]"))e.removeAttribute("active"),e.setAttribute("aria-selected","false");k.setAttribute("active","");k.setAttribute("aria-selected","true");a.G=k;m&&m&&"#"!==m.href||a.K.ra()}}}});if(a.querySelector("tab[dropdown]")||a.querySelector("tab[overflow-tab]")){var b="onpointermove"in window?"pointerover":"mouseover",
c="onpointermove"in window?"pointerleave":"mouseleave",d=a.querySelectorAll("tab[clickable]");if(d.length){b=_ds.p(d);for(c=b.next();!c.done;c=b.next())a.j.listen(c.value,"click",function(e){var g=e.target,k=xT(a,g),m=k.querySelector(".devsite-tabs-dropdown");!m||a.h.contains(g)||m.contains(g)||(e.preventDefault(),e.stopPropagation(),k.hasAttribute("dropdown--open")?AT(a):CT(a,e))});a.j.listen(document.body,"click",function(e){a.D.contains(e.target)||AT(a)})}else a.j.listen(a,[b,"focusin"],function(e){document.body.hasAttribute("touch")||
CT(a,e)}),a.j.listen(a,[c,"focusout"],function(){document.body.hasAttribute("touch")||AT(a,300)})}Array.from(a.querySelectorAll(".devsite-tabs-close-button")).forEach(function(e){a.j.listen(e,"click",function(){return AT(a)})})},CT=function(a,b){var c=b.target,d=xT(a,c);d&&(d===a.h||a.h.contains(c)?yT(a,b):BT(a,d))},AT=function(a,b){b=void 0===b?0:b;_ds.Gj(a.m);window.clearTimeout(a.F);var c=a.querySelector("tab[dropdown--open]");if(c){var d=c.querySelector(".devsite-tabs-dropdown");d.setAttribute("dropdown-transition",
"");_ds.Ej(a.m,d,_ds.nv,function(){d.removeAttribute("dropdown-transition");a.removeAttribute("dropdown--open")});a.F=window.setTimeout(function(){c.removeAttribute("dropdown--open");ET(c)},b)}else a.removeAttribute("dropdown--open");zT(a)},BT=function(a,b){zT(a);if(b.hasAttribute("dropdown")){if(_ds.Gj(a.m),window.clearTimeout(a.F),!b.hasAttribute("dropdown--open")){document.body.hasAttribute("touch")&&_ds.Ej(a.m,document.body,"click",function(n){a.contains(n.target)||AT(a)});var c=a.querySelector("tab[dropdown--open]"),
d=b.querySelector(".devsite-tabs-dropdown");if(d){_ds.Jj(d,"left","");var e=_ds.Ag(window||window),g=Array.from(d.querySelectorAll(".devsite-tabs-dropdown-column"));if(!b.hasAttribute("dropdown-full")&&1<g.length){var k=[];g.forEach(function(n){k.push(n.scrollWidth)});var m=Math.max.apply(null,k);m*g.length<e.width?g.forEach(function(n){_ds.Jj(n,"width",m+"px")}):b.setAttribute("dropdown-full","")}g=d.getBoundingClientRect();b.hasAttribute("dropdown-full")?_ds.Jj(d,"left","-"+g.left+"px"):(e=Math.min(g.left,
g.left+g.width-e.width),0<e&&_ds.Jj(d,"left","-"+e+"px"));c?(c.removeAttribute("dropdown--open"),ET(c),c.querySelector(".devsite-tabs-dropdown").removeAttribute("dropdown-transition")):(d.setAttribute("dropdown-transition",""),_ds.Ej(a.m,d,_ds.nv,function(){return d.removeAttribute("dropdown-transition")}));window.requestAnimationFrame(function(){a.setAttribute("dropdown--open","");b.setAttribute("dropdown--open","");ET(b)})}else c&&(c.removeAttribute("dropdown--open"),ET(c))}}else AT(a)},xT=function(a,
b){for(;b&&b!==a;){if("TAB"===b.tagName.toUpperCase())return b;b=b.parentElement}return null},yT=function(a,b){var c;_ds.E(function(d){if(1==d.h)return b.preventDefault(),b.stopPropagation(),document.body.dispatchEvent(new CustomEvent("devsite-close-overflow-tabs")),_ds.w(d,_ds.yi(),2);if(a.hasAttribute("overflow-menu--open"))return d.return();document.body.hasAttribute("touch")&&(c=function(e){a.contains(e.target)||zT(a);_ds.Fj(a.m,document.body,["devsite-close-overflow-tabs","click"],c)},a.m.listen(document.body,
["devsite-close-overflow-tabs","click"],c));a.C.removeAttribute("hidden");a.setAttribute("overflow-menu--open","");_ds.x(d)})},zT=function(a){a.C.setAttribute("hidden","");a.removeAttribute("overflow-menu--open")},vT=function(a){a.h.setAttribute("hidden","");if(!(3>a.o.length)){var b=FT(a);if(0!==b){var c=a.o.slice(),d=0,e;c.forEach(function(q){q.parentNode!==a.D&&(e?_ds.Ng(q,e):_ds.Og(a.D,q,0));e=q;d+=FT(q)});if(!(d<=b)){var g=a.L;a.h.removeAttribute("hidden");var k=a.querySelector("[active]");for(k&&
(g+=FT(k));c.length;){var m=c.shift();if(m!==k){var n=FT(m);g+n<=b?g+=n:a.C.appendChild(m)}}}}}},GT=function(a){a.o=Array.from(a.querySelectorAll("tab"));var b=a.querySelector(".devsite-tabs-wrapper");b||(b=a.ownerDocument.createElement("div"),b.classList.add("devsite-tabs-wrapper"),a.appendChild(b),a.o.forEach(function(e){return b.appendChild(e)}));a.D=b;a.appendChild(b);if(!a.hasAttribute("no-overflow")){var c=a.ownerDocument.createElement("tab");c.setAttribute("overflow-tab","");var d=a.ownerDocument.createElement("a");
_ds.Dd(d,"#");d.textContent="More";d.classList.add("devsite-icon");d.classList.add("devsite-icon-arrow-drop-down");c.appendChild(d);a.h=c;d=a.ownerDocument.createElement("div");d.classList.add("devsite-tabs-overflow-menu");d.setAttribute("scrollbars","");d.setAttribute("hidden","");a.C=d;c.appendChild(d);b.appendChild(c)}},FT=function(a){if(!a)return 0;for(var b=[],c=a;c.parentElement&&0==c.offsetWidth;)b.push(c),c.setAttribute("render-hidden",""),c=c.parentElement;a=_ds.Uj(a).width;b=_ds.p(b);for(c=
b.next();!c.done;c=b.next())c.value.removeAttribute("render-hidden");return a},ET=function(a){var b=a.querySelector(".devsite-tabs-dropdown-toggle"),c=a.hasAttribute("dropdown--open");a.querySelector("a").setAttribute("aria-expanded",c);b.setAttribute("aria-expanded",c)},JT=function(a){a.o.forEach(function(b,c){if(b.hasAttribute("generated-tab-menu")&&!document.body.hasAttribute("touch")){var d=Array.from(b.querySelectorAll(".devsite-tabs-dropdown-column")),e=b.querySelector(".devsite-tabs-dropdown"),
g=b.querySelector("a");d.forEach(function(k,m){k.setAttribute("column-id","tab-"+c+"-column-"+m)});d=d.map(function(k){var m=k.querySelector(".devsite-nav-title")||k.querySelector(".devsite-nav-item-title");return{rh:k.getAttribute("column-id"),text:m.textContent}});g&&(g=_ds.Op(tT,{rg:g.textContent,ul:d}),e&&(d=b.querySelector(".devsite-tabs-dropdown-content")))&&(e.insertBefore(g,d),e=b.querySelector(".dropdown-tabbed-menu a"),HT(b),a.j.listen(g,"click",function(k){k.preventDefault();var m=b.querySelector(".dropdown-tabbed-menu-button");
k=k.target;m&&k.tagName&&"a"===k.tagName.toLowerCase()&&!m.contains(k)&&IT(b,k.getAttribute("column-id"))}),e&&IT(b,e.getAttribute("column-id")))}})},IT=function(a,b){var c=Array.from(a.querySelectorAll(".devsite-tabs-dropdown-column"));a=Array.from(a.querySelectorAll(".dropdown-tabbed-menu a"));a.forEach(function(d){return d.removeAttribute("active")});c.forEach(function(d){return d.setAttribute("hidden","")});a=a.find(function(d){return d.getAttribute("column-id")===b});c=c.find(function(d){return d.getAttribute("column-id")===
b});a&&c&&(a.setAttribute("active",""),c.removeAttribute("hidden"))},HT=function(a){var b=a.querySelector(".dropdown-tabbed-menu-button-target");if(!a.querySelector(".dropdown-tabbed-menu-button")&&b){var c=a.querySelector("a");c&&(c=c.textContent,b=b.querySelector(".devsite-nav-item a"),a=a.querySelector(".dropdown-tabbed-menu"),b&&(c=_ds.Op(uT,{rg:c,href:b.getAttribute("href"),text:b.textContent}),a.appendChild(c)))}};_ds.u(wT,_ds.T);wT.prototype.disconnectedCallback=function(){_ds.Gj(this.j);_ds.Gj(this.m)};wT.prototype.connectedCallback=function(){this.H||(GT(this),this.H=!0);this.setAttribute("connected","");this.hasAttribute("no-overflow")||(this.h.setAttribute("collapsed",""),this.L=FT(this.h),this.h.removeAttribute("collapsed"),DT(this),vT(this));JT(this)};wT.prototype.connectedCallback=wT.prototype.connectedCallback;wT.prototype.disconnectedCallback=wT.prototype.disconnectedCallback;try{window.customElements.define("devsite-tabs",wT)}catch(a){console.warn("devsite.app.customElement.DevsiteTabs",a)};})(_ds_www);
