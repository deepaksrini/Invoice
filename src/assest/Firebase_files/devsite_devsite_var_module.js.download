(function(_ds){var window=this;'use strict';var iV=function(){return(0,_ds.X)('<span class="devsite-var-input-wrapper"><button class="material-icons devsite-icon-close" tabindex="-1"></button></span>')},jV=function(){return(0,_ds.X)('<input class="devsite-var-input" type="text" translate="no" spellcheck="false">')},kV=function(a){return(0,_ds.X)('<span class="devsite-var-wrapper"><var spellcheck="false" is-upgraded>'+_ds.Y(a.placeholder)+"</var></span>")},lV=function(){return(0,_ds.X)('<a class="material-icons devsite-icon-edit" role="button" tabindex="-1"></a>')},
mV=function(){var a=_ds.T.call(this)||this;a.m=new _ds.Aj(a);a.F=!1;a.j="";a.D="";return a},nV=function(){return"devsite-var"},pV=function(a){var b,c,d;_ds.E(function(e){if(1==e.h){a.j=_ds.kh(a);var g=a.getAttribute("label");g||(a.setAttribute("label",a.j),g=a.j);a.D=g;b=_ds.oh(a,"devsite-code");a:{if(a.classList.contains("no-scope"))a.classList.remove("no-scope"),a.hasAttribute("scope")&&a.removeAttribute("scope");else if(!a.hasAttribute("scope")&&b){g=!0;break a}g=!1}g&&a.setAttribute("scope",a.j);
return b?_ds.w(e,b.whenReady(),2):e.J(2)}_ds.Lp(a,kV,{placeholder:_ds.kh(a)});if(a.classList.contains("edit")||b&&!b.hasAttribute("no-copy")&&!b.firstElementChild.classList.contains("readonly")&&!a.classList.contains("readonly"))a.G=a.querySelector("var"),c=_ds.Op(lV),_ds.Og(a.G,c,1),d=a.querySelector(".devsite-var-wrapper"),a.C=_ds.Op(iV),_ds.Og(d,a.C,0),a.h=_ds.Op(jV),a.setAttribute("tabindex",0),a.G.setAttribute("data-title","Edit "+a.D),oV(a);a.removeAttribute("label");_ds.x(e)})},oV=function(a){a.m.listen(a,
"focusin",function(){a.hasAttribute("active")||(a.setAttribute("active",""),_ds.Og(a.C,a.h,0),a.h.value=_ds.kh(a),a.h.select(),a.setAttribute("tabindex",-1))});a.m.listen(a.h,"focusout",function(){a.removeAttribute("active");a.C.removeChild(a.h);a.setAttribute("tabindex",0)});a.m.listen(a,"keydown",function(b){13!==b.keyCode&&27!==b.keyCode||a.h.blur()});a.m.listen(a,"input",function(b){if(!a.F){if(a.hasAttribute("scope")){var c=a.getAttribute("scope");a.o=Array.from(document.querySelectorAll('devsite-var[scope="'+
c+'"]'))}else a.o=Array(a);a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:{category:"Site-Wide Custom Events",action:"New Placeholder Edited",label:a.j,value:a.o.length},bubbles:!0}));c={eventData:JSON.stringify({name:"New Placeholder Edited".replace(/\s/g,""),type:"editablePlaceholderVariable",metadata:{"var":a.j,varsInScope:a.o.length}})};a.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",{detail:c,bubbles:!0}));a.F=!0}qV(a,b.target.value)})},qV=
function(a,b){a.o.forEach(function(c){c.setAttribute("value",b)})};_ds.u(mV,_ds.T);mV.prototype.connectedCallback=function(){if(!this.hasAttribute("ready")){this.setAttribute("ready","");var a=this.querySelector("var");if(a){a=_ds.p(a.attributes);for(var b=a.next();!b.done;b=a.next())b=b.value,this.setAttribute(b.name,b.value)}pV(this)}};mV.prototype.attributeChangedCallback=function(a,b,c){if(a=this.querySelector("var"))a.firstChild.nodeValue=c?c:""};mV.prototype.disconnectedCallback=function(){_ds.Gj(this.m)};
_ds.l.Object.defineProperties(mV,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return["value"]}}});mV.prototype.disconnectedCallback=mV.prototype.disconnectedCallback;mV.prototype.attributeChangedCallback=mV.prototype.attributeChangedCallback;mV.prototype.connectedCallback=mV.prototype.connectedCallback;mV.getTagName=nV;try{window.customElements.define(nV(),mV)}catch(a){console.warn("devsite.app.CustomElement.DevsiteVar",a)};})(_ds_www);
